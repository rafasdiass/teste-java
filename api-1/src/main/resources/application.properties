# Configurações da aplicação
quarkus.application.name=fipe-api-1
quarkus.http.port=8080

# Configurações do banco de dados PostgreSQL
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=fipe_user
quarkus.datasource.password=fipe_password
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/fipe_db

# Configurações do Hibernate
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.log.bind-parameters=true
quarkus.hibernate-orm.statistics=true
quarkus.hibernate-orm.packages=com.fipe.shared.entity

# Desativação completa do Hibernate enhancement
quarkus.hibernate-orm.enhancement.enabled=false
quarkus.hibernate-orm.bytecode.use_reflection_optimizer=false
quarkus.hibernate-orm.enhancement.lazy-initialization=false
quarkus.hibernate-orm.bytecode.provider=none
quarkus.hibernate-orm.enhancement.enable-dirty-tracking=false
quarkus.hibernate-orm.enhancement.enable-lazy-initialization=false
quarkus.hibernate-orm.enhancement.enable-association-management=false
quarkus.hibernate-orm.enhancement.runtime=false
quarkus.hibernate-orm.enhancement.build-time=false
quarkus.hibernate-orm.enhancement.lazy-loading=false

# Configurações do Flyway
quarkus.flyway.migrate-at-start=true
quarkus.flyway.locations=classpath:db/migration
quarkus.flyway.baseline-on-migrate=true

# Configurações do Redis (Cache)
quarkus.redis.hosts=redis://localhost:6379
quarkus.redis.timeout=10s
quarkus.redis.max-pool-size=20
quarkus.redis.max-pool-waiting=30

# Configurações de Cache Redis
quarkus.cache.redis.expire-after-write=PT30M
quarkus.cache.redis.key-type=java.lang.String
quarkus.cache.redis.value-type=java.lang.Object

# Configurações específicas do cache customizado
fipe.cache.marcas.ttl=1800
fipe.cache.modelos.ttl=3600
fipe.cache.stats.ttl=300
fipe.cache.enabled=true

# Configurações do RabbitMQ
rabbitmq.host=localhost
rabbitmq.port=5672
rabbitmq.username=guest
rabbitmq.password=guest
rabbitmq.virtual-host=/

# Desabilitar DevServices (Docker não disponível)
quarkus.rabbitmq.devservices.enabled=false
quarkus.redis.devservices.enabled=false

# Configurações de Messaging
mp.messaging.outgoing.marcas-out.connector=smallrye-rabbitmq
mp.messaging.outgoing.marcas-out.host=localhost
mp.messaging.outgoing.marcas-out.port=5672
mp.messaging.outgoing.marcas-out.username=guest
mp.messaging.outgoing.marcas-out.password=guest
mp.messaging.outgoing.marcas-out.virtual-host=/
mp.messaging.outgoing.marcas-out.exchange.name=marcas-out
mp.messaging.outgoing.marcas-out.routing-key=marcas.process
mp.messaging.outgoing.marcas-out.exchange.type=topic
mp.messaging.outgoing.marcas-out.exchange.durable=true

# Configurações do cliente HTTP para API FIPE
quarkus.rest-client.fipe-client.url=https://parallelum.com.br/fipe/api/v1
quarkus.rest-client.fipe-client.connect-timeout=30000
quarkus.rest-client.fipe-client.read-timeout=30000

# Configurações de segurança JWT
mp.jwt.verify.issuer=https://fipe-service.com
quarkus.smallrye-jwt.enabled=true
quarkus.smallrye-jwt.auth-mechanism=MP-JWT

# Configurações do OpenAPI/Swagger
quarkus.smallrye-openapi.path=/swagger-ui
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/swagger

# Configurações de logging
quarkus.log.level=INFO
quarkus.log.category."com.fipe".level=DEBUG
quarkus.log.console.enable=true
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n

# Configurações de desenvolvimento
%dev.quarkus.log.level=DEBUG
%dev.quarkus.datasource.db-kind=h2
%dev.quarkus.datasource.jdbc.url=jdbc:h2:mem:fipe_dev;DB_CLOSE_DELAY=-1
%dev.quarkus.hibernate-orm.database.generation=drop-and-create
%dev.quarkus.hibernate-orm.log.sql=true
%dev.quarkus.flyway.migrate-at-start=false
%dev.quarkus.redis.devservices.enabled=false
%dev.fipe.cache.enabled=false

# Configurações JWT para desenvolvimento
%dev.smallrye.jwt.sign.key=fipe-dev-secret-key-for-jwt-signing-2024
%dev.mp.jwt.verify.issuer=fipe-dev-service

# Configurações de teste
%test.quarkus.datasource.db-kind=h2
%test.quarkus.datasource.jdbc.url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1
%test.quarkus.hibernate-orm.database.generation=drop-and-create
%test.quarkus.flyway.migrate-at-start=false
%test.fipe.cache.enabled=false

# Configurações de produção
%prod.quarkus.log.level=WARN
%prod.quarkus.log.category."com.fipe".level=INFO
%prod.fipe.cache.enabled=true
%prod.quarkus.redis.timeout=5s